        # Mock executor.submit to return a Future with valid results
        mock_future = MagicMock()
        # Mock return for search: (distances, indices)
        # 2D array for distances (1 query x k results)
        # 2D array for indices (1 query x k results)
        mock_future.result.return_value = ([[0.1, 0.2]], [[0, 1]])
        self.mock_executor.submit.return_value = mock_future
